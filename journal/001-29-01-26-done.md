## Symlinked journaling and context sync system

Implemented shared documentation and journaling system between Cursor IDE and Claude CLI with token-efficient format and automated context synchronization.

+ CLAUDE.md
+ AGENTS.md (symlink → CLAUDE.md)
+ .cursor/commands/create-journal-entry.md
+ .cursor/commands/sync-context.md
+ .claude/commands (symlink → ../.cursor/commands)
+ journal/

---

## Astro portfolio setup with Cloudflare deployment

Initialized Astro 5.x static site with blog support, custom theme system using CSS variables, and Cloudflare Workers configuration.

+ astro.config.mjs
+ tailwind.config.mjs
+ wrangler.toml
+ src/styles/theme.css
+ src/content/config.ts
+ src/content/blog/welcome.md
+ src/content/blog/astro-cloudflare.md
+ src/layouts/BaseLayout.astro
+ src/layouts/BlogPostLayout.astro
+ src/pages/blog/index.astro
+ src/pages/blog/[slug].astro
+ public/favicon.svg
+ public/robots.txt
~ src/pages/index.astro
~ CLAUDE.md
~ package.json

---

## Dark mode portfolio with optimized variable fonts

Implemented refined dark mode as default with optimized font system and fixed contrast/visibility issues.

**Font System**:
- Removed all static font files, keeping only variable fonts
- Parkinsans (sans-serif) for UI and headings
- Cormorant Garamond (serif) for blog long-form content
- JetBrains Mono for code blocks
- Added font preloading in BaseLayout.astro

**Dark Mode Theme**:
- Deep backgrounds (hsl(222 20% 10%)) with improved contrast
- Refined color palette for 2026 aesthetics
- Better surface elevation (15%, 20%, 23% lightness)
- Improved border visibility (28% lightness)

**Contrast & Visibility Fixes**:
- Updated tag styling with bg-primary/10, text-primary, border-primary/20
- Improved card borders and hover states
- Better text hierarchy with text-tertiary for dates
- Added leading-relaxed to body text for readability

~ src/styles/theme.css
~ src/layouts/BaseLayout.astro
~ src/layouts/BlogPostLayout.astro
~ src/pages/index.astro
~ src/pages/blog/index.astro
~ public/fonts/ (cleaned up)

---

## Homepage and blog layout improvements

Improved visual hierarchy and spacing across homepage and blog pages with larger typography, better padding, and centered blog content.

**Homepage improvements**:
- Increased hero section text sizes (text-5xl md:text-6xl lg:text-7xl)
- Larger CTA buttons (px-8 py-4) with shadow effects
- Increased section spacing (mb-20 md:mb-24)
- Larger headings (text-3xl md:text-4xl)
- Improved cards: border-2, rounded-xl, p-8, text-lg
- Better gap between cards (gap-8)

**Blog improvements**:
- Changed max-width from max-w-4xl to max-w-3xl for proper centering
- Increased spacing between posts (space-y-12)
- Consistent padding (px-6 md:px-8)

**Tag visibility fix**:
- Used inline styles with CSS variables to bypass Tailwind opacity limitation
- `style="background-color: var(--color-tag-primary-bg); border: 2px solid var(--color-tag-primary-border);"`

~ src/pages/index.astro
~ src/pages/blog/index.astro
~ src/layouts/BlogPostLayout.astro
~ src/styles/theme.css

---


## Fixed broken layout — Tailwind not generating, full rewrite

Previous session left site non-functional: content stuck to left edge, no centering, no spacing. Root cause was missing `@tailwind base/components/utilities` directives in theme.css, plus Tailwind config overriding entire spacing scale with CSS variables (breaking all utilities). Rewrote all layout files and fixed config.

**Tailwind config**: Removed broken spacing/fontSize/lineHeight/shadow/transition overrides. Added container centering config. Changed fontFamily to real arrays.

**Layout fixes**: All pages now use `max-w-3xl mx-auto px-6` for proper centered containment. Clean nav with active state. Sticky footer.

**Blog prose**: Full serif output (Cormorant Garamond) for body and headings. Sans-serif only for page title header. Increased font size to 1.3rem, weight 450.

~ tailwind.config.mjs
~ src/styles/theme.css
~ src/layouts/BaseLayout.astro
~ src/layouts/BlogPostLayout.astro
~ src/pages/index.astro
~ src/pages/blog/index.astro

---

## Paper light + charcoal dark dual theme with toggle

Replaced blue-tinted dark-only theme with two themes: warm paper-like light (default) and neutral charcoal dark. Added sun/moon toggle in nav with localStorage persistence and FOUC prevention. Configured Shiki dual-theme syntax highlighting (github-light / github-dark) for code blocks.

~ src/styles/theme.css
~ src/layouts/BaseLayout.astro
~ src/layouts/BlogPostLayout.astro
~ src/pages/index.astro
~ src/pages/blog/index.astro
~ src/tailwind.config.mjs
~ astro.config.mjs

---

## Font swap — Nunito + Lora, then Source Sans 3 + Lora

Replaced Parkinsans and Cormorant Garamond with new font pairing. First tried Nunito (too rounded/bubbly), swapped to Source Sans 3 (Adobe humanist sans, straight terminals, warm). Lora kept as serif for blog prose. JetBrains Mono unchanged.

+ public/fonts/SourceSans3/SourceSans3-VariableFont_wght.ttf
+ public/fonts/SourceSans3/SourceSans3-Italic-VariableFont_wght.ttf
+ public/fonts/Lora/Lora-VariableFont_wght.ttf
+ public/fonts/Lora/Lora-Italic-VariableFont_wght.ttf
- public/fonts/Parkinsans/
- public/fonts/Cormorant_Garamond/
~ src/styles/theme.css
~ src/layouts/BaseLayout.astro
~ tailwind.config.mjs

---

## Centralized content management — work experience + social links

Created `src/lib/content.ts` with typed interfaces for work experience (with multi-role/promotion support) and social links. Replaced placeholder Projects section with timeline-styled Work Experience section. Added social link icons in footer. Fixed name to "Siddhartha Varma" across all files.

**Data model**: `WorkEntry` has `roles: RoleEntry[]` array supporting promotions (e.g. Zomato SDE-1 → SDE-2) within a single timeline entry. Each role has optional `description`. Entry-level `description` serves as fallback.

**Work entries**: Feeble (current), Flexprice, Zomato (2 roles), Groww, Nearcast, Winuall, Nirmitee.io, OYO Rooms — descriptions sourced from resume PDF.

**Timeline UI**: Left-edge vertical accent line with dot markers, mono-font timestamps, bordered cards with hover lift + glow. Staggered fade-in animation. Dashed separator between roles within same company.

**Accent color**: Swapped sage green → warm amber/ochre (`hsl(36 55% 45%)` light, `hsl(36 55% 58%)` dark).

+ src/lib/content.ts
~ src/pages/index.astro
~ src/layouts/BaseLayout.astro
~ src/layouts/BlogPostLayout.astro
~ src/content/config.ts
~ src/styles/theme.css

---

## Homepage hero and UX refinements

Increased font sizes for post titles (`text-lg`), descriptions (`text-base`), dates (`text-sm`), and project card text across Recent Posts and Projects sections. Rewrote hero: replaced "Hi, I'm Siddhartha Varma" + subtitle with single statement heading. Swapped CTA buttons — "Get in Touch" (primary, copies `me@sidv.dev` to clipboard) and "Blog" (secondary, outline). Added lightweight custom toast notification for clipboard confirmation (no dependencies, CSS transitions, theme-aware inverted colors).

~ src/pages/index.astro

---

## Blog prose heading hierarchy fix

Reduced `.prose` heading sizes so in-content headings stay subordinate to page title (`text-3xl md:text-4xl`). Lora serif had larger visual weight than Source Sans 3, making h2 appear bigger than h1. Added explicit `.prose h1` size. Fixed Shiki dual-theme CSS — split into mutually exclusive `:root:not([data-theme="dark"])` and `:root[data-theme="dark"]` selectors to resolve specificity conflict with `!important` rules.

~ src/layouts/BlogPostLayout.astro

---

## Full SEO compliance with JSON-LD structured data

Audited and fixed all SEO issues across the site. Added canonical URLs, `og:url`, `og:site_name`, conditional `og:image`/`twitter:image`. Fixed Twitter meta tags from `property=` to `name=`. Added article-specific Open Graph tags (`article:published_time`, `article:modified_time`, `article:author`) for blog posts. Injected JSON-LD structured data — Person schema on homepage, Article schema on blog posts.

Extended BaseLayout props: `ogType`, `ogImage`, `publishedTime`, `modifiedTime`, `author`, `jsonLd`. Fixed placeholder site URL to `https://sidv.dev` in astro config and robots.txt.

~ astro.config.mjs
~ public/robots.txt
~ src/layouts/BaseLayout.astro
~ src/layouts/BlogPostLayout.astro
~ src/pages/index.astro

---

## Copy-as-markdown button for blog posts

Added polished copy-as-markdown button in blog post header alongside tags. Pill-shaped button with clipboard icon that morphs to checkmark on copy, label transitions from "Copy Markdown" to "Copied". Refined toast notification with accent bar, checkmark icon, and themed shadows. Raw markdown embedded via `<template>` element at build time. Vanilla JS clipboard API — no dependencies.

~ src/layouts/BlogPostLayout.astro
~ src/pages/blog/[slug].astro

---

## Cloudflare Pages deployment

Cleaned up wrangler.toml for Pages compatibility (removed legacy `[site]` block, fixed future compatibility_date to `2025-01-28`). Created Cloudflare Pages project and deployed successfully.

~ wrangler.toml

---

## Blog content import — Software Engineering in the Agentic Era

Imported first real blog post from Peerlist article. Covers AI-assisted development, vibe coding critique, and responsible AI tool usage. Frontmatter: title, description, pubDate (2025-09-21), tags (ai, software engineering, opinion), author.

+ src/content/blog/software-engineering-agentic-era.md

---

## CopyButton component — deduplicated copy microanimation

Extracted shared copy-to-clipboard button into reusable Astro component with two variants: `ghost` (pill-shaped, blog copy-markdown) and `primary` (filled, hero get-in-touch). Icon slot for custom SVG, label/copiedLabel props for text swap. Replaced duplicate inline implementations on homepage and blog layout.

+ src/components/CopyButton.astro
~ src/pages/index.astro
~ src/layouts/BlogPostLayout.astro

---

## Dark mode text lightness bump

Increased `--color-text-secondary` in dark theme from 65% to 80% lightness for better serif readability on dark backgrounds.

~ src/styles/theme.css

---

## Blog post header — center-aligned editorial layout

Restructured blog post header to center-aligned editorial style. Copy Markdown button moved to topmost position. Added description/subtitle below title (max-w-2xl). Date and tags centered. Removed author from inline metadata. Separators changed from middot to slash.

~ src/layouts/BlogPostLayout.astro

---

## Git init and push to GitHub

Initialized repo, added `.playwright-mcp/` to `.gitignore`, created private repo `BRO3886/portfolio-v2` on GitHub, and pushed initial commit.

~ .gitignore

---

## Dark mode as default theme

Changed FOUC prevention script to apply dark mode unless user explicitly chose light (`saved !== 'light'` instead of `saved === 'dark'`). Deployed to Cloudflare Pages.

~ src/layouts/BaseLayout.astro

---

## Performance — inline CSS, cache headers, 404 redirect

Eliminated render-blocking CSS by setting `build.inlineStylesheets: 'always'` in Astro config — all CSS now embedded in `<style>` tags, removing the external stylesheet from the critical path (628ms savings). Added Cloudflare Pages `_headers` for proper cache control (immutable for hashed assets and fonts, must-revalidate for HTML). Added `_redirects` to 302 unknown paths back to `/`.

~ astro.config.mjs
+ public/_headers
+ public/_redirects

---

## 404 redirect — replaced _redirects with 404.astro

Wildcard `_redirects` rule (`/* / 302`) caused infinite redirect loop on Cloudflare Pages. Replaced with custom `404.astro` page using `<meta http-equiv="refresh" content="0;url=/">` — Cloudflare serves `404.html` automatically for unmatched paths, no loop.

- public/_redirects
+ src/pages/404.astro

---

## FOUC fix — move theme script before styles

Inlined CSS caused light-to-dark flash because the FOUC prevention script was at the end of `<head>`, after Astro injected the `<style>` tag. Moved script to immediately after `<meta charset>` so `data-theme="dark"` is set before the browser parses any CSS.

~ src/layouts/BaseLayout.astro

---

## PostHog analytics — cookieless, GDPR-compliant

Integrated PostHog analytics with privacy-focused config: `persistence: 'memory'` (no cookies/localStorage), `person_profiles: 'identified_only'`, `respect_dnt: true`, `ip: false`. Session replay enabled with masked inputs and `.prose` text. Autocapture restricted to clicks on `<a>`, `<button>`, `[data-ph-capture]`.

Custom events: `theme_toggle`, `copy_email`, `copy_markdown`, `outbound_link_click`, `blog_scroll_depth` (25/50/75/90/100% thresholds with rAF throttle). All capture calls guarded with `if (window.posthog)`.

+ src/components/PostHog.astro
~ src/layouts/BaseLayout.astro
~ src/layouts/BlogPostLayout.astro
~ src/pages/index.astro

---